(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{190:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},410:function(e,t){},413:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=413},421:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),i=n.n(c),r=n(25),s=n.n(r),o=(n(227),n(2)),l=(n(228),n(229),n(55)),j=n(33),d=n(422),u=n(423),b=n(6),m=n(426),O=n(57),h=n.n(O),f=n(115),x=n.n(f);h.a.extend(x.a);var p=function(e){var t=e.data;function n(e){var t=[];return new h.a(e.start)<new Date&&t.push(Object(a.jsx)(l.b,{to:"/conf/".concat(e._id),children:"Join"})),t}return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.b,{style:{width:"100%"},dataSource:t,renderItem:function(e){return Object(a.jsxs)(m.b.Item,{actions:n(e),children:[Object(a.jsx)(m.b.Item.Meta,{title:e.name,description:new h.a(e.start)>new Date?h()(e.start).fromNow():""}),e.startedBy.name]})}})})},g=n(41),w=n.n(g),v=n(72),S=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){var e=Object(v.a)(JSON.parse(localStorage.getItem("jwt")).ACCESS_TOKEN)._id;w.a.get("/user/meeting/".concat(e)).then((function(e){i(e.data.meeting)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"600",color:"#242424",display:"inline-block"},children:"Scheduled"}),Object(a.jsx)("br",{}),n&&Object(a.jsx)(p,{data:n,type:"simplelist"})]})},y=n(61),C=n(427),N=n(429),I=n(430),F=n(425),k=function(e){var t=e.visible,n=e.onCreate,i=e.onCancel,r=C.a.useForm(),s=Object(b.a)(r,1)[0],o=Object(c.useState)(),l=Object(b.a)(o,2),j=l[0],d=l[1];return Object(a.jsx)(N.a,{visible:t,title:"Create a new Scheduled Room",okText:"Create",cancelText:"Cancel",onCancel:i,onOk:function(){s.validateFields().then((function(e){s.resetFields(),e.startedBy=Object(v.a)(localStorage.getItem("jwt"))._id,e.start=new Date(j),console.log(e),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(C.a,{form:s,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(a.jsx)(C.a.Item,{name:"name",label:"Room Name",rules:[{required:!0,message:"Please input Classroom name!"}],children:Object(a.jsx)(I.a,{})}),Object(a.jsx)(C.a.Item,{name:"date",label:"Select time",rules:[{required:!0,message:"Please Enter time"}],children:Object(a.jsx)(F.a,{showTime:!0,onOk:function(e){d(e._d)}})})]})})},T=function(e){var t=e.visible,n=e.onCreate,c=e.onCancel,i=C.a.useForm(),r=Object(b.a)(i,1)[0];return Object(a.jsx)(N.a,{visible:t,title:"Create a new Meeting",okText:"Create",cancelText:"Cancel",onCancel:c,onOk:function(){r.validateFields().then((function(e){r.resetFields(),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsx)(C.a,{form:r,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:Object(a.jsx)(C.a.Item,{name:"name",label:"Room Name",rules:[{required:!0,message:"Please input Meeting name!"}],children:Object(a.jsx)(I.a,{})})})})},_=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(b.a)(r,2),o=s[0],l=s[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"600",color:"#242424",display:"inline-block"},children:"Start Meeting"}),Object(a.jsx)("br",{}),Object(a.jsx)(k,{visible:n,onCreate:function(e){w.a.post("/meeting",e).then((function(){window.location.reload()}))},onCancel:function(){i(!1)}}),Object(a.jsx)(y.a,{onClick:function(){i(!0)},style:{backgroundColor:"1A57F3"},children:"Schedule Meeting"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"or",style:{backgroundColor:"C4C4C4",borderRadius:"50%"},children:"OR"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(T,{visible:o,onCreate:function(e){e.startedBy=Object(v.a)(JSON.parse(localStorage.getItem("jwt")).ACCESS_TOKEN)._id,e.start=new Date,w.a.post("/meeting",e).then((function(e){window.location="/conf/"+e.data._id})),l(!1)},onCancel:function(){l(!1)}}),Object(a.jsx)(y.a,{onClick:function(){l(!0)},style:{backgroundColor:"1A57F3"},children:"Start Meeting"})]})},E=n(220);h.a.extend(x.a);var P,q=function(e){var t=e.data;function n(e){var t=[];return new h.a(e.start)>new Date?t.push(Object(a.jsx)("a",{onClick:function(){return function(e){var t=Object(v.a)(JSON.parse(localStorage.getItem("jwt")).ACCESS_TOKEN)._id;w.a.post("/user/meeting/".concat(e),{userId:t}).then((function(){window.location.reload()})).catch((function(e){console.log(e),E.b.error("Server error")}))}(e._id)},children:"Schedule"},"/conf/".concat(e._id))):new h.a(e.start)<new Date&&t.push(Object(a.jsx)(l.b,{to:"/conf/".concat(e._id),children:"Join"})),t}return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.b,{style:{width:"100%"},dataSource:t,renderItem:function(e){return Object(a.jsxs)(m.b.Item,{actions:n(e),children:[Object(a.jsx)(m.b.Item.Meta,{title:e.name,description:new h.a(e.start)>new Date?h()(e.start).fromNow():""}),e.startedBy.name]})}})})},D=I.a.Search,J=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(b.a)(r,2),o=s[0],l=s[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"600",color:"#242424",display:"inline-block"},children:"Join"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(D,{placeholder:"input search text",onSearch:function(e){i(!0),w.a.get("/meeting",{params:{search:"name",q:e,populate:"startedBy"}}).then((function(e){i(!1),l(e.data)}))},loading:n,enterButton:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),o&&Object(a.jsx)(q,{data:o,type:"searchlist"})]})},M=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(u.a,{span:8,children:Object(a.jsx)(S,{})}),Object(a.jsx)(u.a,{span:8,children:Object(a.jsx)(_,{})}),Object(a.jsx)(u.a,{span:8,children:Object(a.jsx)(J,{})})]})})},B=n(208),U=n.n(B),z=n(209),A=n.n(z),R=function(){return Object(c.useEffect)((function(){var e=window.location.href.split("/").splice(-1)[0];P=U()("localhost:5000");var t=document.getElementById("view-grid"),n=new A.a(void 0,{host:"peerjs-afd4ezae2q-uc.a.run.app",path:"/myapp"}),a=document.createElement("video");a.muted=!0;var c={};function i(e,n){e.srcObject=n,e.addEventListener("loadedmetadata",(function(){e.play()})),t.append(e)}navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){i(a,e),P.on("user-connected",(function(t){!function(e,t){var a=n.call(e,t),r=document.createElement("video");a.on("stream",(function(e){i(r,e)})),a.on("close",(function(){r.remove()})),c[e]=a}(t,e)})),P.on("user-disconnected",(function(e){c[e]&&c[e].close()})),n.on("call",(function(t){t.answer(e);var n=document.createElement("video");t.on("stream",(function(e){i(n,e)}))}))})),n.on("open",(function(t){P.emit("join-room",e,t)}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{id:"view-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 300px)",gridAutoRows:"300px"}}),Object(a.jsx)("div",{className:"options"}),Object(a.jsx)("div",{className:"rightMenu"}),Object(a.jsx)("div",{className:"rightOptions",children:"\u2630"})]})},L=n(19),V=function(e){return w.a.post("/login",e).then((function(e){!function(e){"undefined"!==typeof window&&localStorage.setItem("jwt",JSON.stringify(e))}(e.data),window.location.href=window.location.origin})).catch((function(e){return e.request?e.request:e.response?e.response:e}))},K=function(e){var t=e.component,n=Object(L.a)(e,["component"]);return Object(a.jsx)(j.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt"))?(console.log("authenticated"),Object(a.jsx)(t,Object(o.a)({},e))):Object(a.jsx)(j.a,{to:{pathname:"/signin"}})}}))},W=(n(190),n(428)),G=n(424),H=n(431),Q=n(432),X=W.a.Title;var Y=function(){return Object(a.jsx)("div",{className:"auth-page-container",children:Object(a.jsx)(d.a,{style:{width:"100%"},justify:"center",children:Object(a.jsx)(u.a,{md:{span:8},children:Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)(X,{children:"SIGN IN"}),Object(a.jsx)(G.a,{}),Object(a.jsxs)(C.a,{name:"login",className:"login-form",onFinish:function(e){V(e).then((function(e){console.log(e)}))},size:"large",children:[Object(a.jsx)(C.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(a.jsx)(I.a,{prefix:Object(a.jsx)(H.a,{className:"site-form-item-icon"}),placeholder:"email"})}),Object(a.jsx)(C.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(I.a,{prefix:Object(a.jsx)(Q.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(a.jsxs)(C.a.Item,{children:[Object(a.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,children:"Sign In"}),Object(a.jsxs)("p",{style:{fontSize:"1.1rem",marginTop:"5px"},children:["If you are new here, click ",Object(a.jsx)(l.b,{to:"/signup",children:"here"})," to register."]})]})]})]})})})})},Z=n(433),$=W.a.Title;I.a.TextArea;var ee=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],i=t[1],r=function(e){var t;(t=e,console.log(t),w.a.post("/user",Object(o.a)({},t)).then((function(e){return e})).catch((function(e){return e}))).then((function(e){200===e.status&&i(!0)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"auth-page-container",children:Object(a.jsx)(d.a,{style:{width:"100%"},justify:"center",children:Object(a.jsx)(u.a,{md:{span:8},children:Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)($,{children:"SIGN UP"}),Object(a.jsx)(G.a,{}),Object(a.jsxs)(C.a,{name:"signUp",className:"signup-form",onFinish:r,size:"large",children:[Object(a.jsx)(C.a.Item,{name:"name",rules:[{required:!0,message:"Please input your Name!"}],children:Object(a.jsx)(I.a,{prefix:Object(a.jsx)(H.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(a.jsx)(C.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(a.jsx)(I.a,{prefix:Object(a.jsx)(Z.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(a.jsx)(C.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(I.a,{prefix:Object(a.jsx)(Q.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(a.jsxs)(C.a.Item,{children:[Object(a.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,children:"Sign Up"}),Object(a.jsxs)("p",{style:{fontSize:"1.1rem",marginTop:"5px"},children:["Already a User? Click ",Object(a.jsx)(l.b,{to:"/",children:"here"})," to Sign In."]})]})]})]})})})}),function(){if(n)return Object(a.jsx)(j.a,{to:"/"})}()]})};w.a.defaults.baseURL=window.location.origin,w.a.defaults.headers.common=Object(o.a)(Object(o.a)({},w.a.defaults.headers.common),JSON.parse(localStorage.getItem("jwt")));var te=function(){return Object(a.jsxs)(l.a,{children:[Object(a.jsx)(K,{path:"/",exact:!0,component:M}),Object(a.jsx)(K,{path:"/conf",component:R}),Object(a.jsx)(j.b,{path:"/signin",exact:!0,component:Y}),Object(a.jsx)(j.b,{path:"/signup",exact:!0,component:ee})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,434)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(te,{})}),document.getElementById("root")),ne()}},[[421,1,2]]]);
//# sourceMappingURL=main.0575ede3.chunk.js.map