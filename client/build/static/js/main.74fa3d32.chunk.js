(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{195:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},418:function(e,t){},421:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=421},429:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),i=n.n(c),r=n(24),o=n.n(r),s=(n(231),n(2)),l=(n(232),n(233),n(49)),j=n(34),d=n(430),u=n(431),b=n(7),m=n(434),O=n(59),h=n.n(O),x=n(121),f=n.n(x);h.a.extend(f.a);var p=function(e){var t=e.data;function n(e){var t=[];return new h.a(e.start)<new Date&&t.push(Object(a.jsx)(l.b,{to:"/conf/".concat(e._id),children:"Join"})),t}return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.b,{style:{width:"100%"},dataSource:t,renderItem:function(e){return Object(a.jsxs)(m.b.Item,{actions:n(e),children:[Object(a.jsx)(m.b.Item.Meta,{title:e.name,description:new h.a(e.start)>new Date?h()(e.start).fromNow():""}),e.startedBy.name]})}})})},g=n(42),w=n.n(g),v=n(74),y=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){var e=Object(v.a)(JSON.parse(localStorage.getItem("jwt")).ACCESS_TOKEN)._id;w.a.get("/user/meeting/".concat(e)).then((function(e){i(e.data.meeting)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"600",color:"#242424",display:"inline-block"},children:"Scheduled"}),Object(a.jsx)("br",{}),n&&Object(a.jsx)(p,{data:n,type:"simplelist"})]})},S=n(438),C=n(51),N=n(440),I=n(435),k=n(437),F=n(439),E=n(433),T=function(e){var t=e.visible,n=e.onCreate,i=e.onCancel,r=I.a.useForm(),o=Object(b.a)(r,1)[0],s=Object(c.useState)(),l=Object(b.a)(s,2),j=l[0],d=l[1];return Object(a.jsx)(k.a,{visible:t,title:"Create a new Scheduled Room",okText:"Create",cancelText:"Cancel",onCancel:i,onOk:function(){o.validateFields().then((function(e){o.resetFields(),e.startedBy=Object(v.a)(localStorage.getItem("jwt"))._id,e.start=new Date(j),console.log(e),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(I.a,{form:o,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(a.jsx)(I.a.Item,{name:"name",label:"Room Name",rules:[{required:!0,message:"Please input Classroom name!"}],children:Object(a.jsx)(F.a,{})}),Object(a.jsx)(I.a.Item,{name:"date",label:"Select time",rules:[{required:!0,message:"Please Enter time"}],children:Object(a.jsx)(E.a,{showTime:!0,onOk:function(e){d(e._d)}})})]})})},_=function(e){var t=e.visible,n=e.onCreate,c=e.onCancel,i=I.a.useForm(),r=Object(b.a)(i,1)[0];return Object(a.jsx)(k.a,{visible:t,title:"Create a new Meeting",okText:"Create",cancelText:"Cancel",onCancel:c,onOk:function(){r.validateFields().then((function(e){r.resetFields(),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsx)(I.a,{form:r,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:Object(a.jsx)(I.a.Item,{name:"name",label:"Room Name",rules:[{required:!0,message:"Please input Meeting name!"}],children:Object(a.jsx)(F.a,{})})})})},P=n(224);h.a.extend(f.a);var q,D=function(e){var t=e.data;function n(e){var t=[];return new h.a(e.start)>new Date?t.push(Object(a.jsx)("a",{onClick:function(){return function(e){var t=Object(v.a)(JSON.parse(localStorage.getItem("jwt")).ACCESS_TOKEN)._id;w.a.post("/user/meeting/".concat(e),{userId:t}).then((function(){window.location.reload()})).catch((function(e){console.log(e),P.b.error("Server error")}))}(e._id)},children:"Schedule"},"/conf/".concat(e._id))):new h.a(e.start)<new Date&&t.push(Object(a.jsx)(l.b,{to:"/conf/".concat(e._id),children:"Join"})),t}return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.b,{style:{width:"100%"},dataSource:t,renderItem:function(e){return Object(a.jsxs)(m.b.Item,{actions:n(e),children:[Object(a.jsx)(m.b.Item.Meta,{title:e.name,description:new h.a(e.start)>new Date?h()(e.start).fromNow():""}),e.startedBy.name]})}})})},J=F.a.Search,M=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),o=Object(b.a)(r,2),s=o[0],l=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"600",color:"#242424",display:"inline-block"},children:"Join"}),Object(a.jsx)("div",{className:"40width",style:{width:"70%"},children:Object(a.jsx)(J,{placeholder:"input search text",onSearch:function(e){i(!0),w.a.get("/meeting",{params:{search:"name",q:e,populate:"startedBy"}}).then((function(e){i(!1),l(e.data)}))},loading:n,enterButton:!0})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),s&&Object(a.jsx)(D,{data:s,type:"searchlist"})]})},z=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),o=Object(b.a)(r,2),s=o[0],l=o[1],j=Object(a.jsxs)(S.a,{children:[Object(a.jsx)(S.a.Item,{children:Object(a.jsx)(C.a,{onClick:function(){i(!0)},style:{backgroundColor:"1A57F3"},children:"Schedule Meeting"})}),Object(a.jsx)(S.a.Item,{children:Object(a.jsx)(C.a,{onClick:function(){l(!0)},style:{backgroundColor:"1A57F3"},children:"Start Meeting"})})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"600",color:"#242424",display:"inline-block"},children:"Make free unlimited video call all over the world"}),Object(a.jsx)("br",{}),Object(a.jsx)(T,{visible:n,onCreate:function(e){w.a.post("/meeting",e).then((function(){window.location.reload()}))},onCancel:function(){i(!1)}}),Object(a.jsx)(_,{visible:s,onCreate:function(e){e.startedBy=Object(v.a)(JSON.parse(localStorage.getItem("jwt")).ACCESS_TOKEN)._id,e.start=new Date,w.a.post("/meeting",e).then((function(e){window.location="/conf/"+e.data._id})),l(!1)},onCancel:function(){l(!1)}}),Object(a.jsx)(N.a,{overlay:j,placement:"topLeft",children:Object(a.jsx)(C.a,{style:{backgroundColor:"rgb(144, 49, 231)",color:"whitesmoke"},children:"new meeting"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"or",style:{backgroundColor:"C4C4C4",borderRadius:"50%"},children:"OR"}),Object(a.jsx)(M,{})]})},B=function(){return Object(a.jsxs)("nav",{style:{display:"flex",justifyContent:"flex-end",padding:"5px 0px",alignItems:"center",backgroundColor:"#9031e7"},children:[Object(a.jsx)("div",{className:"flex",style:{flex:1},children:Object(a.jsx)(l.b,{to:"/",children:Object(a.jsx)("p",{style:{margin:"2px",paddingLeft:"5px",fontSize:"larger",color:"whitesmoke"},children:"Examiner"})})}),Object(a.jsx)(C.a,{type:"primary",onClick:function(){localStorage.removeItem("jwt"),window.location.reload()},children:"SignOut"})]})},U=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B,{}),Object(a.jsx)("div",{className:"padding",children:Object(a.jsxs)(d.a,{gutter:[24,24],justify:"space-between",children:[Object(a.jsx)(u.a,{lg:{span:10},md:{span:24},children:Object(a.jsx)(z,{})}),Object(a.jsx)(u.a,{lg:{span:10},md:{span:24},children:Object(a.jsx)(y,{})})]})})]})},A=n(211),L=n.n(A),R=n(212),V=n.n(R),K=function(){return Object(c.useEffect)((function(){var e=window.location.href.split("/").splice(-1)[0];q=L()(window.location.origin);var t=document.getElementById("view-grid"),n=new V.a(void 0,{host:"peerjs-afd4ezae2q-uc.a.run.app",path:"/myapp"}),a=document.createElement("video");a.muted=!0;var c={};function i(e,n){e.srcObject=n,e.addEventListener("loadedmetadata",(function(){e.play()})),t.append(e)}navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){i(a,e),q.on("user-connected",(function(t){!function(e,t){var a=n.call(e,t),r=document.createElement("video");a.on("stream",(function(e){i(r,e)})),a.on("close",(function(){r.remove()})),c[e]=a}(t,e)})),q.on("user-disconnected",(function(e){c[e]&&c[e].close()})),n.on("call",(function(t){t.answer(e);var n=document.createElement("video");t.on("stream",(function(e){i(n,e)}))}))})),n.on("open",(function(t){q.emit("join-room",e,t)}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{id:"view-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 300px)",gridAutoRows:"300px",gap:"10px",padding:"1rem"}}),Object(a.jsx)("div",{className:"options"}),Object(a.jsx)("div",{className:"rightMenu"})]})},W=n(23),G=function(e){return w.a.post("/login",e).then((function(e){!function(e){"undefined"!==typeof window&&localStorage.setItem("jwt",JSON.stringify(e))}(e.data),window.location.href=window.location.origin})).catch((function(e){return e.request?e.request:e.response?e.response:e}))},H=function(e){var t=e.component,n=Object(W.a)(e,["component"]);return Object(a.jsx)(j.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt"))?(console.log("authenticated"),Object(a.jsx)(t,Object(s.a)({},e))):Object(a.jsx)(j.a,{to:{pathname:"/signin"}})}}))},Q=(n(195),n(436)),X=n(432),Y=n(441),Z=n(442),$=Q.a.Title;var ee=function(){return Object(a.jsx)("div",{className:"auth-page-container",children:Object(a.jsx)(d.a,{style:{width:"100%"},justify:"center",children:Object(a.jsx)(u.a,{md:{span:8},children:Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)($,{children:"SIGN IN"}),Object(a.jsx)(X.a,{}),Object(a.jsxs)(I.a,{name:"login",className:"login-form",onFinish:function(e){G(e).then((function(e){console.log(e)}))},size:"large",children:[Object(a.jsx)(I.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:"email"})}),Object(a.jsx)(I.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(Z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(a.jsxs)(I.a.Item,{children:[Object(a.jsx)(C.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,children:"Sign In"}),Object(a.jsxs)("p",{style:{fontSize:"1.1rem",marginTop:"5px"},children:["If you are new here, click ",Object(a.jsx)(l.b,{to:"/signup",children:"here"})," to register."]})]})]})]})})})})},te=n(443),ne=Q.a.Title;F.a.TextArea;var ae=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],i=t[1],r=function(e){var t;(t=e,console.log(t),w.a.post("/user",Object(s.a)({},t)).then((function(e){return e})).catch((function(e){return e}))).then((function(e){200===e.status&&i(!0)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"auth-page-container",children:Object(a.jsx)(d.a,{style:{width:"100%"},justify:"center",children:Object(a.jsx)(u.a,{md:{span:8},children:Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)(ne,{children:"SIGN UP"}),Object(a.jsx)(X.a,{}),Object(a.jsxs)(I.a,{name:"signUp",className:"signup-form",onFinish:r,size:"large",children:[Object(a.jsx)(I.a.Item,{name:"name",rules:[{required:!0,message:"Please input your Name!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(a.jsx)(I.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(te.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(a.jsx)(I.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(Z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(a.jsxs)(I.a.Item,{children:[Object(a.jsx)(C.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,children:"Sign Up"}),Object(a.jsxs)("p",{style:{fontSize:"1.1rem",marginTop:"5px"},children:["Already a User? Click ",Object(a.jsx)(l.b,{to:"/",children:"here"})," to Sign In."]})]})]})]})})})}),function(){if(n)return Object(a.jsx)(j.a,{to:"/"})}()]})};w.a.defaults.baseURL="localhost"==window.location.hostname?"http://localhost:5000":window.location.origin,w.a.defaults.headers.common=Object(s.a)(Object(s.a)({},w.a.defaults.headers.common),JSON.parse(localStorage.getItem("jwt")));var ce=function(){return Object(a.jsxs)(l.a,{children:[Object(a.jsx)(H,{path:"/",exact:!0,component:U}),Object(a.jsx)(H,{path:"/conf",component:K}),Object(a.jsx)(j.b,{path:"/signin",exact:!0,component:ee}),Object(a.jsx)(j.b,{path:"/signup",exact:!0,component:ae})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,444)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(ce,{})}),document.getElementById("root")),ie()}},[[429,1,2]]]);
//# sourceMappingURL=main.74fa3d32.chunk.js.map